/* @iamcal/autolink-js 2021-05-07 */
"use strict";(function(){var t=this,e=t.AutoLink,r=function(){var t=this;return t.stripProtocols=!0,t.tagFill="",t.autoTitle=!0,t.maxLength=30,t},n=function(t,e,r,n,i,h,g){for(var f=t.toLowerCase(),p=0,c=!0,m="",x=!0,d=0,b="",v="",w="",L="",C="",$=0;p<t.length&&c;){x=!0,e.lastIndex=p;var y=e.exec(f);if(y){var E=y.index,d=y[0].length;b=t.substr(p,E-p),v=t.substr(E,d),w=t.substr(0,E),L=t.substr(E+d),C=b+v,$=C.length;var k=w.split(/<\/a>/i),R=k.pop();R.match(/<a\s/i)&&(a("fail 1 at "+p),x=!1,p+=$,m+=C)}else c=!1,x=!1;if(x&&w.length&&(w.match(/[\s\(\[\{>]$/)||(a("fail 2 at "+p+" ("+w+")"),x=!1,p+=$,m+=C)),x){var F=/^([a-z0-9\-\.\/\-_%~!?=,:;&+*#@\(\)\$]+)/i,A=F.exec(L);if(A){var P=v+A[1];for(p+=P.length+b.length,m+=b,P=o(P);P.match(/[.,!;:?]$/);)P=P.substr(0,P.length-1),p--;P.match(/^(\)|^)[^\(]+\)$/)&&(P=P.substr(0,P.length-1),p--),P.match(/^(\]|^)[^\[]+\]$/)&&(P=P.substr(0,P.length-1),p--),P.match(/^(\}|^)[^\{]+\}$/)&&(P=P.substr(0,P.length-1),p--);var T=P,q=P;if(r&&(T=r+T),g){var z=new RegExp("^(http|https)://","i"),I=z.exec(q);I&&(q=q.substr(I[1].length+3))}q=u(q,n);var S=i;q!=T&&!S.match(/title=/i)&&h&&(T.match(new RegExp("https?://"+s(q),"i"))||(S+=' title="'+T+'"'));var O=l(T),_=l(q);m+='<a href="'+O+'"'+S+">"+_+"</a>"}else a("fail 3 at "+p),x=!1,p+=$,m+=C}}return m+=t.substr(p)},i=function(t,e){for(var r='[^()<>@,;:\\\\".\\[\\]\\x00-\\x20\\x7f]+',n="("+r+"(\\."+r+")*)",i=new RegExp("^"+n),s=new RegExp(n+"$"),a=t.toLowerCase(),o=0,l=!0,u="",h="",g="",f="",p="",c=0;o<t.length&&l;){var m=!0,x=a.indexOf("@",o);if(x===-1)l=!1,m=!1;else{h=t.substr(o,x-o),g=t.substr(x,1),f=t.substr(x+1),p=h+g,c=p.length;var d=h.split(/<\/a>/i),b=d.pop();b.match(/<a\s/i)&&(m=!1,o+=c,u+=p)}if(m){var v=h.match(s);if(v){var w=v[1].length,L=h.length;g=h.substr(L-w)+g,h=h.substr(0,L-w)}else m=!1,o+=c,u+=p}if(m){var v=f.match(i);if(v){var w=v[1].length;g+=f.substr(0,w),f=f.substr(w)}else m=!1,o+=c,u+=p}m&&(o+=h.length+g.length,u+=h,u+='<a href="mailto:'+g+'"'+e+">"+g+"</a>")}return u+=t.substr(o)},s=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},a=function(t){},o=function(t){return t.replace(/&(quot|gt|lt|amp|\#([0-9]+)|\#x([0-9a-f]+));/gi,function(t,e,r,n){return"quot"==e.toLowerCase()?'"':"gt"==e.toLowerCase()?">":"lt"==e.toLowerCase()?"<":"amp"==e.toLowerCase()?"&":r?String.fromCharCode(parseInt(r)):n?String.fromCharCode(parseInt(n,16)):void 0})},l=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},u=function(t,e){return e&&t.length>e?t.substr(0,e-3)+"...":t};r.prototype.link=function(t){return t=n(t,new RegExp("[a-z][a-z-]+://","ig"),null,this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols),t=n(t,new RegExp("(mailto|skype):","ig"),null,this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols),t=n(t,new RegExp("www\\.","ig"),"http://",this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols)},r.prototype.linkEmail=function(t){return t=i(t,this.tagFill)},r.prototype.noConflict=function(){return t.AutoLink=e,r},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.AutoLink=r):"function"==typeof define&&define.amd?define(function(){return r}):t.AutoLink=r}).call(function(){return this||("undefined"!=typeof window?window:global)}());
